(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{44:function(t,e,c){},64:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(1),r=c.n(a),o=c(12),i=c.n(o),s=c(6),u=(c(44),c(7)),j=c.n(u);var l=function(t){var e=t.title,c=t.children;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:j.a.decor,children:[Object(n.jsx)("div",{className:j.a.leftDecor}),Object(n.jsx)("div",{className:j.a.rightDecor}),Object(n.jsx)("div",{className:j.a.circleDecor}),Object(n.jsxs)("div",{className:j.a.innerDecor,children:[Object(n.jsx)("h3",{className:j.a.titleDecor,children:e}),c]})]})})},b=c(21),f=c(20),O=c.n(f),d=c(32),h=c(11),p=c.n(h),m=c(2),x=Object(m.b)("contacts/fetchContactRequest"),_=Object(m.b)("contacts/fetchContactSuccess"),v=Object(m.b)("contacts/fetchContactError"),C=Object(m.b)("contacts/addContactRequest"),g=Object(m.b)("contacts/addContactSuccess"),D=Object(m.b)("contacts/addContactError"),L=Object(m.b)("contacts/deleteContactRequest"),y=Object(m.b)("contacts/deleteContactSuccess"),N=Object(m.b)("contacts/deleteContactError"),w=Object(m.b)("contacts/filter"),S=Object(m.b)("contacts/uniqName");p.a.defaults.baseURL="http://localhost:4040";var k=c(13),E=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},R=Object(k.a)([E,F],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),q=function(t){return t.contacts.loading},U=function(t){return t.contacts.error};var z=function(){var t=Object(a.useState)(""),e=Object(b.a)(t,2),c=e[0],r=e[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),u=i[0],j=i[1],l=Object(s.c)(E),f=Object(s.b)(),O=function(t,e){return f(function(t,e){return function(c){var n={name:t,tel:e};c(C()),p.a.post("/contacts",n).then((function(t){return c(g(t.data))})).catch((function(t){return c(D(t))}))}}(t,e))},d=function(t){return!!l.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))?(alert("".concat(t," is already in contacts")),h(),!1):t&&u?f(S(t)):(alert("Empty field"),!1)},h=function(){r(""),j("")};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),d(c)){var e=function(t){var e=t.split("");return"+38 (".concat(e[0]).concat(e[1]).concat(e[2],") ").concat(e[3]).concat(e[4]).concat(e[5],"-").concat(e[6]).concat(e[7],"-").concat(e[8]).concat(e[9])}(u);O(c,e),h()}},autoComplete:"off",children:[Object(n.jsx)("input",{type:"text",name:"name",value:c,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",onChange:function(t){r(t.target.value)}}),Object(n.jsx)("input",{type:"tel",name:"tel",value:u,pattern:"[0-9]{10}",placeholder:"067 123 45 67",minLength:"10",maxLength:"10",onChange:function(t){j(t.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})})},A=c(8),J=c.n(A);var M=function(){var t=Object(s.b)();Object(a.useEffect)((function(){t(function(){var t=Object(d.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:c=t.sent,e(_(c.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(v(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var e=Object(s.c)(R),c=Object(s.c)(q),r=Object(s.c)(U),o=function(e){return t(function(t){return function(e){e(L(t)),p.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(N(t))}))}}(e))};return Object(n.jsxs)(n.Fragment,{children:[!c&&!r&&e.length<1&&Object(n.jsx)("p",{className:J.a.text,children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"}),Object(n.jsx)("ul",{className:J.a.contactsList,children:e.length>0&&e.map((function(t){var e=t.id,c=t.name,a=t.tel;return Object(n.jsxs)("li",{className:J.a.contact,children:[Object(n.jsx)("span",{className:J.a.name,children:c}),Object(n.jsx)("span",{className:J.a.phone,children:Object(n.jsx)("a",{href:"tel:+".concat(a.toString().replace(/[^\d;]/g,"")),children:a})}),Object(n.jsx)("button",{className:J.a.btnDeleteContact,type:"button",onClick:function(){return o(e)},children:"x"})]},e)}))}),c&&Object(n.jsx)("h3",{children:" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."}),r&&Object(n.jsx)("h3",{children:r.message})]})};var T=function(){var t=Object(s.c)(F),e=Object(s.b)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("input",{type:"text",name:"filter",value:t,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 ...",onChange:function(t){return e(w(t.target.value))},autoComplete:"off"})})};var W,Z,B,I=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l,{title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430",children:Object(n.jsx)(z,{})}),Object(n.jsxs)(l,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432",children:[Object(n.jsx)(T,{}),Object(n.jsx)(M,{})]})]})},Q=c(15),X=c(3),Y=c(4),G=Object(m.c)([],(W={},Object(X.a)(W,_,(function(t,e){return e.payload})),Object(X.a)(W,g,(function(t,e){var c=e.payload;return[].concat(Object(Q.a)(t),[c])})),Object(X.a)(W,y,(function(t,e){var c=e.payload;return t.filter((function(t){return t.id!==c}))})),Object(X.a)(W,S,(function(t){return t})),W)),H=Object(m.c)("",Object(X.a)({},w,(function(t,e){return e.payload}))),K=Object(m.c)(!1,(Z={},Object(X.a)(Z,x,(function(){return!0})),Object(X.a)(Z,_,(function(){return!1})),Object(X.a)(Z,v,(function(){return!1})),Object(X.a)(Z,C,(function(){return!0})),Object(X.a)(Z,g,(function(){return!1})),Object(X.a)(Z,D,(function(){return!1})),Object(X.a)(Z,y,(function(){return!1})),Object(X.a)(Z,N,(function(){return!1})),Z)),P=Object(m.c)(null,(B={},Object(X.a)(B,x,(function(){return null})),Object(X.a)(B,v,(function(t,e){return e.payload})),Object(X.a)(B,C,(function(){return null})),Object(X.a)(B,D,(function(t,e){return e.payload})),Object(X.a)(B,L,(function(){return null})),Object(X.a)(B,N,(function(t,e){return e.payload})),B)),V=Object(Y.c)({items:G,filter:H,loading:K,error:P}),$=c(33),tt=c.n($),et=c(9),ct=[].concat(Object(Q.a)(Object(m.d)({serializableCheck:{ignoredActions:[et.a,et.f,et.b,et.c,et.d,et.e]}})),[tt.a]),nt=Object(m.a)({reducer:{contacts:V},devTools:!1,middleware:ct});i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(s.a,{store:nt,children:Object(n.jsx)(I,{})})}),document.getElementById("root"))},7:function(t,e,c){t.exports={decor:"DecorContainer_decor__tLj2U",leftDecor:"DecorContainer_leftDecor__2XSFD",rightDecor:"DecorContainer_rightDecor__3t0kY",circleDecor:"DecorContainer_circleDecor__1SgtR",innerDecor:"DecorContainer_innerDecor__2WLL9",titleDecor:"DecorContainer_titleDecor__1_Wk0"}},8:function(t,e,c){t.exports={text:"ContactsList_text__dn7QZ",contactsList:"ContactsList_contactsList__2ZSp1",contact:"ContactsList_contact__2UE7g",name:"ContactsList_name__2CA3y",phone:"ContactsList_phone__2vzMy",btnDeleteContact:"ContactsList_btnDeleteContact__3_uFT"}}},[[64,1,2]]]);
//# sourceMappingURL=main.7950b17f.chunk.js.map